<app-header></app-header>

<ng-container *ngIf="currentProject">
    <div class="project-container mt-12">
        <div class="project-hero-section">
            <div class="project-title-wrapper float-left w-full">
                <div class="project-title text-7xl font-extrabold text-yellow-500">
                    {{ currentProject.titulo }}
                </div>

                <div class="project-subtitle py-3 text-2xl font-bold">
                    "{{ currentProject.subtitulo }}"
                </div>

                <div class="project-tags">
                    <app-project-tag
                        *ngFor="let tag of currentProject.tags"
                        [rawTag]="tag"></app-project-tag>
                </div>
            </div>
        </div>

        <div
            *ngIf="currentProject.youtube"
            class="project-video flex justify-center my-3">
            <iframe
                class="project-video__iframe"
                [src]="service.getYouTubeIframeUrl() | safe"
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
            ></iframe>
        </div>

        <div
            *ngIf="currentProject.soundcloud"
            class="project-audio w-full"
            [innerHTML]="currentProject.soundcloud | safeHtml">
        </div>

        <div class="project-video-button">
            <button
                (click)="shareLink()"
                class="card__title"
            >
                <mat-icon
                    class="card__title-icon"
                    svgIcon="heroicons_solid:share"
                ></mat-icon>
                Compartilhar Link
            </button>

            <a
                *ngIf="currentProject.tipo === ProjectType.VIDEO"
                [href]="service.getMediaUrl(ProjectType.VIDEO)"
                class="card__title"
                download
            >
                <mat-icon
                    class="card__title-icon"
                    svgIcon="heroicons_solid:download"
                ></mat-icon>
                Baixar vídeo
            </a>

            <a
                [href]="service.getMediaUrl(ProjectType.AUDIO)"
                class="card__title"
                download
            >
                <mat-icon
                    class="card__title-icon"
                    svgIcon="heroicons_solid:download"
                ></mat-icon>
                Baixar áudio
            </a>
        </div>

        <div
            *ngIf="currentProject.descricao"
            class="project-video-text"
        >
            {{ currentProject.descricao }}
        </div>

        <app-cards-section sectionTitle="Relacionados">
            <app-project-list [projects]="service.projects"></app-project-list>
        </app-cards-section>

    </div>
</ng-container>

<app-footer></app-footer>
<app-modal-share
    *ngIf="visibleShareLink"
    [link]="getSearchLink()"
    (onClose)="shareLink()"
></app-modal-share>
